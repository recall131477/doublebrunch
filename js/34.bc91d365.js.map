{"version":3,"file":"js/34.bc91d365.js","mappings":"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","sources":["webpack://doublebrunch/./node_modules/mitt/dist/mitt.mjs","webpack://doublebrunch/./src/methods/emitter.js","webpack://doublebrunch/./src/stores/statusStore.js","webpack://doublebrunch/./src/components/LoadingComponent.vue","webpack://doublebrunch/./src/components/LoadingComponent.vue?8b0c","webpack://doublebrunch/./src/components/PaginationComponent.vue","webpack://doublebrunch/./src/components/PaginationComponent.vue?4f9e","webpack://doublebrunch/./src/views/frontend/ProductsView.vue","webpack://doublebrunch/./src/views/frontend/ProductsView.vue?bf7f"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","// 使用 mitt 需先執行\nimport mitt from 'mitt';\n\nconst emitter = mitt();\nexport default emitter;\n","import { defineStore } from 'pinia';\n\nexport default defineStore('statusStore', {\n  state: () => ({\n    isLoading: false,\n  }),\n  actions: {\n    changeLoading() {\n      this.isLoading = !this.isLoading;\n    },\n  },\n});\n","<template>\n  <div class=\"loading\" :class=\"{ 'is-active': isLoading }\">\n    <div class=\"loading__main\">\n      <div\n        class=\"loading__square absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[60px] h-[60px] bg-primary rounded -mt-2\"\n      ></div>\n      <span\n        class=\"relative block text-24px text-secondary w-full h-full pt-2\"\n        >午</span\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    isLoading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n","import { render } from \"./LoadingComponent.vue?vue&type=template&id=28535fb6\"\nimport script from \"./LoadingComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\2022-Vue3直播班\\\\doublebrunch\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <ul class=\"flex justify-center h-[60px] border-primary border-t-2\">\n    <li>\n      <button\n        type=\"button\"\n        class=\"flex justify-center items-center opacity-50 h-full cursor-not-allowed px-[25px] group\"\n        :disabled=\"pages.current_page === 1\"\n        :class=\"{ 'opacity-100 cursor-pointer': pages.has_pre }\"\n        @click=\"changePages(pages.current_page - 1)\"\n      >\n        <img\n          src=\"@/assets/images/icon-arrow-left.svg\"\n          alt=\"icon-arrow-left\"\n          class=\"duration-300 group-hover:scale-110\"\n        />\n      </button>\n    </li>\n    <li v-for=\"(page, index) in pages.total_pages\" :key=\"index\">\n      <button\n        type=\"button\"\n        class=\"duration-300 flex justify-center items-center text-primary opacity-50 h-full px-[15px] hover:text-primary hover:opacity-100\"\n        :class=\"{ 'opacity-100': page === pages.current_page }\"\n        @click=\"changePages(page)\"\n      >\n        {{ page }}\n      </button>\n    </li>\n    <li>\n      <button\n        type=\"button\"\n        class=\"flex justify-center items-center opacity-50 h-full cursor-not-allowed px-[25px] group\"\n        :disabled=\"pages.current_page === pages.total_pages\"\n        :class=\"{ 'opacity-100 cursor-pointer': pages.has_next }\"\n        @click=\"changePages(pages.current_page + 1)\"\n      >\n        <img\n          src=\"@/assets/images/icon-arrow-right.svg\"\n          alt=\"icon-arrow-right\"\n          class=\"duration-300 group-hover:scale-110\"\n        />\n      </button>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  props: {\n    pages: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  methods: {\n    changePages(item) {\n      this.$emit('change-pages', item);\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationComponent.vue?vue&type=template&id=02e74606\"\nimport script from \"./PaginationComponent.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\2022-Vue3直播班\\\\doublebrunch\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadingComponent :isLoading=\"isLoading\"></LoadingComponent>\n  <section>\n    <div class=\"border-primary border-b-2 p-5 md:hidden\">\n      <div class=\"relative\">\n        <select\n          class=\"text-primary bg-secondary border-primary border-2 w-full px-4 py-2\"\n          v-model=\"category\"\n          @change=\"changeCategory(category)\"\n        >\n          <option :value=\"'all'\">全部餐點</option>\n          <option :value=\"item\" v-for=\"item in categories\" :key=\"item\">\n            {{ item }}系列\n          </option>\n        </select>\n        <svg\n          class=\"absolute top-1/2 right-4 -translate-y-1/2\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 20 20\"\n        >\n          <defs>\n            <clipPath id=\"clip-path\">\n              <rect\n                id=\"Rectangle_210\"\n                data-name=\"Rectangle 210\"\n                width=\"20\"\n                height=\"20\"\n              />\n            </clipPath>\n          </defs>\n          <g\n            id=\"icon-arrow-left\"\n            transform=\"translate(0 20) rotate(-90)\"\n            clip-path=\"url(#clip-path)\"\n          >\n            <path\n              id=\"Path_14\"\n              data-name=\"Path 14\"\n              d=\"M1078.15,822.453l-8,8,8,8\"\n              transform=\"translate(-1064.147 -820.453)\"\n              fill=\"none\"\n              stroke=\"#8CA06E\"\n              stroke-width=\"2\"\n            />\n          </g>\n        </svg>\n      </div>\n    </div>\n    <ul\n      class=\"category hidden flex-wrap justify-center border-primary border-b-2 py-5 md:flex\"\n    >\n      <li class=\"md:px-[15px] md:py-2 lg:p-[15px]\">\n        <button\n          type=\"button\"\n          class=\"text-14px text-primary opacity-50\"\n          :class=\"{ 'opacity-100': category === 'all' }\"\n          @click=\"changeCategory('all')\"\n        >\n          全部餐點\n        </button>\n      </li>\n      <li\n        class=\"md:px-[15px] md:py-2 lg:p-[15px]\"\n        v-for=\"item in categories\"\n        :key=\"item\"\n      >\n        <button\n          type=\"button\"\n          class=\"text-14px text-primary opacity-50\"\n          :class=\"{ 'opacity-100': category === item }\"\n          @click=\"changeCategory(item)\"\n        >\n          {{ item }}系列\n        </button>\n      </li>\n    </ul>\n    <div class=\"p-5\">\n      <ul\n        class=\"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5\"\n      >\n        <li v-for=\"product in products\" :key=\"product.id\">\n          <div class=\"relative border-primary border-2\">\n            <div class=\"absolute top-0 left-5 z-20\">\n              <img src=\"@/assets/images/icon-tag.svg\" alt=\"標籤\" />\n              <span\n                class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white\"\n                >{{ product.category }}</span\n              >\n            </div>\n            <router-link :to=\"`/product/${product.id}`\" class=\"group block\">\n              <div class=\"relative pt-[100%] overflow-hidden\">\n                <img\n                  :src=\"product.imageUrl\"\n                  :alt=\"product.title\"\n                  class=\"duration-300 absolute top-0 left-0 w-full h-full object-cover group-hover:scale-110\"\n                />\n              </div>\n            </router-link>\n            <div class=\"flex justify-between border-primary border-t-2 p-5\">\n              <h4 class=\"text-20px text-primary\">\n                {{ product.title }}\n              </h4>\n              <span class=\"text-20px text-primary\"\n                >${{ $filters.currency(product.price) }}</span\n              >\n            </div>\n          </div>\n          <div class=\"flex border-primary border-x-2 border-b-2\">\n            <button\n              type=\"button\"\n              class=\"relative w-[60px] h-[60px] group\"\n              @click=\"toggleFavorite(product)\"\n            >\n              <img\n                src=\"@/assets/images/icon-heart-fill.svg\"\n                alt=\"愛心\"\n                class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\"\n                v-if=\"isFavorite(product)\"\n              />\n              <svg\n                class=\"duration-300 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 stroke-primary fill-transparent group-hover:fill-primary\"\n                v-else\n                xmlns=\"http://www.w3.org/2000/svg\"\n                xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                width=\"20\"\n                height=\"20\"\n                viewBox=\"0 0 20 20\"\n              >\n                <defs>\n                  <clipPath id=\"clip-icon-favorite\">\n                    <rect width=\"20\" height=\"20\" />\n                  </clipPath>\n                </defs>\n                <g id=\"icon-favorite\" clip-path=\"url(#clip-icon-favorite)\">\n                  <path\n                    id=\"heart-solid\"\n                    d=\"M14.435,32.924a4.273,4.273,0,0,0-5.831.425l-.616.634-.616-.634a4.273,4.273,0,0,0-5.831-.425,4.487,4.487,0,0,0-.309,6.5l6.047,6.244a.98.98,0,0,0,1.416,0l6.047-6.244a4.484,4.484,0,0,0-.306-6.5Z\"\n                    transform=\"translate(2.012 -28.967)\"\n                    stroke-width=\"2\"\n                  />\n                </g>\n              </svg>\n            </button>\n            <div class=\"relative flex-1\">\n              <button\n                type=\"button\"\n                class=\"flex justify-center items-center text-primary border-primary border-l-2 w-full h-full pointer-events-none\"\n                v-if=\"isMaxNum(product)\"\n              >\n                商品已達購買上限\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn duration-[400ms] flex justify-center items-center border-primary border-l-2 w-full h-full group\"\n                v-else\n                @click=\"addToCart(product.id)\"\n              >\n                <svg\n                  width=\"20\"\n                  height=\"20\"\n                  viewBox=\"0 0 20 20\"\n                  class=\"duration-[400ms] stroke-primary group-hover:stroke-white\"\n                >\n                  <rect\n                    width=\"16\"\n                    height=\"12\"\n                    rx=\"3\"\n                    transform=\"translate(2 6)\"\n                    fill=\"none\"\n                    stroke-width=\"2\"\n                  />\n                  <path\n                    d=\"M13,9V5A4,4,0,0,0,5,5V9\"\n                    transform=\"translate(1 1)\"\n                    fill=\"none\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                  />\n                </svg>\n                <span class=\"ml-3\">加入購物車</span>\n              </button>\n              <div\n                class=\"absolute inset-0 flex justify-center items-center bg-primary\"\n                v-show=\"isLoadingItem === product.id\"\n              >\n                <div class=\"flex items-center\">\n                  <svg\n                    class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <circle\n                      class=\"opacity-25\"\n                      cx=\"12\"\n                      cy=\"12\"\n                      r=\"10\"\n                      stroke=\"currentColor\"\n                      stroke-width=\"4\"\n                    ></circle>\n                    <path\n                      class=\"opacity-75\"\n                      fill=\"currentColor\"\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    ></path>\n                  </svg>\n                  <span class=\"text-white\">加入中...</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <Pagination\n      :pages=\"pagination\"\n      @change-pages=\"getProducts\"\n      v-if=\"pagination.total_pages > 1\"\n    ></Pagination>\n  </section>\n</template>\n\n<script>\nimport Swal from 'sweetalert2';\nimport emitter from '@/methods/emitter';\nimport { mapState } from 'pinia';\nimport statusStore from '@/stores/statusStore';\nimport LoadingComponent from '@/components/LoadingComponent.vue';\nimport Pagination from '@/components/PaginationComponent.vue';\n\nconst statusModule = statusStore();\n\nexport default {\n  components: {\n    LoadingComponent,\n    Pagination,\n  },\n  watch: {\n    $route: {\n      handler() {\n        if (this.$route.query.category && this.$route.query.page) {\n          this.category = this.$route.query.category;\n          this.page = this.$route.query.page;\n          this.getProducts(this.page);\n        }\n      },\n    },\n    // 因為是陣列，需要做深層監聽\n    favorite: {\n      handler() {\n        // localStorage 自訂欄位\n        localStorage.setItem('favorite', JSON.stringify(this.favorite));\n        emitter.emit('get-favorite');\n      },\n      deep: true,\n    },\n  },\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      cart: {\n        carts: [],\n      },\n      page: 1,\n      category: 'all',\n      categories: [],\n      favorite: JSON.parse(localStorage.getItem('favorite')) || [],\n      isLoadingItem: '',\n    };\n  },\n  computed: {\n    ...mapState(statusStore, ['isLoading']),\n  },\n  methods: {\n    changeCategory(category) {\n      this.category = category;\n      this.getProducts();\n    },\n    getCategories() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          const { products } = res.data;\n          const result = new Set();\n          products.forEach((item) => {\n            result.add(item.category);\n          });\n          this.categories = [...result].reverse();\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    getProducts(page = 1) {\n      statusModule.isLoading = true;\n      let url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?page=${page}`;\n      if (this.category !== 'all') {\n        url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?category=${this.category}&page=${page}`;\n        this.$router.push(`/products?category=${this.category}&page=${page}`);\n      } else {\n        this.$router.push(`/products?category=all&page=${page}`);\n      }\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n          statusModule.isLoading = false;\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.cart = res.data.data;\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    addToCart(id, qty = 1) {\n      this.isLoadingItem = id;\n      const data = {\n        product_id: id,\n        qty,\n      };\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      const status = '已加入購物車';\n      this.$http\n        .post(url, { data })\n        .then(() => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'success',\n            title: status,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          emitter.emit('get-cart');\n          this.getCart();\n          this.isLoadingItem = '';\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    toggleFavorite(product) {\n      // 查資料，有沒有這一個 id 如果有 1，沒有 -1\n      const favoriteIndex = this.favorite.findIndex(\n        (item) => item.id === product.id,\n      );\n      if (favoriteIndex === -1) {\n        this.favorite.push(product);\n        Swal.fire({\n          position: 'top-end',\n          icon: 'success',\n          title: '已加入我的最愛',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        this.favorite.splice(favoriteIndex, 1);\n        Swal.fire({\n          position: 'top-end',\n          icon: 'success',\n          title: '已移除我的最愛',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      }\n    },\n    isFavorite(item) {\n      return this.favorite.some((element) => element.id === item.id);\n    },\n    isMaxNum(product) {\n      const result = this.cart.carts.filter(\n        (cart) => cart.product_id === product.id,\n      )[0];\n      return result && result.qty === 30;\n    },\n  },\n  mounted() {\n    if (this.$route.query.category && this.$route.query.page) {\n      this.category = this.$route.query.category;\n      this.page = this.$route.query.page;\n      this.getProducts(this.page);\n    }\n    this.getCategories();\n    this.getCart();\n    emitter.on('update-favorite', () => {\n      this.favorite = JSON.parse(localStorage.getItem('favorite')) || [];\n    });\n  },\n};\n</script>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=1e37a982\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\2022-Vue3直播班\\\\doublebrunch\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","defineStore","state","isLoading","actions","changeLoading","this","_createElementVNode","class","_hoisted_1","_createElementBlock","$props","props","type","Boolean","default","__exports__","render","src","_imports_0","alt","_hoisted_3","_imports_1","_hoisted_7","has_pre","disabled","current_page","onClick","$options","_Fragment","_renderList","total_pages","page","index","key","_hoisted_5","has_next","pages","Object","methods","changePages","item","$emit","value","xmlns","width","height","viewBox","id","transform","d","fill","stroke","_hoisted_24","_hoisted_25","rx","_hoisted_30","_hoisted_31","_hoisted_34","_createVNode","_component_LoadingComponent","_ctx","$data","$event","onChange","_hoisted_4","_hoisted_8","product","_hoisted_13","_toDisplayString","category","_component_router_link","to","imageUrl","title","currency","price","_hoisted_26","_hoisted_35","_createBlock","_component_Pagination","onChangePages","statusModule","statusStore","components","LoadingComponent","Pagination","watch","$route","handler","query","getProducts","favorite","localStorage","setItem","JSON","stringify","deep","data","products","pagination","cart","carts","categories","parse","getItem","isLoadingItem","computed","mapState","changeCategory","getCategories","url","$http","then","res","result","Set","forEach","add","reverse","catch","err","Swal","position","icon","response","message","showConfirmButton","timer","$router","getCart","addToCart","qty","product_id","status","post","toggleFavorite","favoriteIndex","findIndex","isFavorite","some","element","isMaxNum","filter","mounted"],"sourceRoot":""}