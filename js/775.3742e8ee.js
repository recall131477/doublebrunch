"use strict";(self["webpackChunkdoublebrunch"]=self["webpackChunkdoublebrunch"]||[]).push([[775],{775:function(t,e,o){o.r(e),o.d(e,{default:function(){return U}});var i=o(6252);const r=(0,i.uE)('<div class="fixed top-0 left-0 z-[999] w-full h-full p-[15px] pointer-events-none md:p-5"><div class="absolute top-0 left-0 w-full h-[15px] bg-secondary md:h-5"></div><div class="absolute top-0 left-0 w-[15px] h-full bg-secondary md:w-5"></div><div class="absolute bottom-0 right-0 w-full h-[15px] bg-secondary md:h-5"></div><div class="absolute bottom-0 right-0 w-[15px] h-full bg-secondary md:w-5"></div><div class="w-full h-full border-primary border-2"></div></div>',1),s={class:"p-5"};function l(t,e,o,l,a,n){const u=(0,i.up)("NavBar"),c=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[r,(0,i._)("div",s,[(0,i.Wm)(u),(0,i._)("main",null,[a.checkSuccess?((0,i.wg)(),(0,i.j4)(c,{key:0})):(0,i.kq)("",!0)])])],64)}var a=o(6455),n=o.n(a),u=o(3577),c=o(2835),p=o(4942);const d={class:"flex border-primary border-2"},h=(0,i._)("img",{src:c,alt:"logo",class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},null,-1),m={class:"flex w-[calc(100%-240px)]"},v={class:"flex justify-end items-center flex-1 px-[60px]"},f=(0,i.Uk)("產品列表 "),b=(0,i.Uk)("訂單 "),x=(0,i.Uk)("優惠券 "),g=(0,i.Uk)("貼文 "),y=(0,i._)("img",{src:p,alt:"登入/登出",class:"duration-300 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 group-hover:scale-110"},null,-1);function w(t,e,o,r,s,l){const a=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("header",d,[(0,i.Wm)(a,{to:"/",class:"relative bg-primary w-[240px] h-[100px]"},{default:(0,i.w5)((()=>[h])),_:1}),(0,i._)("div",m,[(0,i._)("ul",v,[(0,i._)("li",null,[(0,i.Wm)(a,{to:"/admin/products",class:(0,u.C_)(["duration-300 relative flex items-center h-[100px] text-primary/50 px-5 group hover:text-primary/100",{"!text-primary":"/admin/products"===t.$route.path}])},{default:(0,i.w5)((()=>[f,(0,i._)("div",{class:(0,u.C_)(["duration-300 absolute bottom-0 left-0 w-full bg-primary h-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible",{"!opacity-100 !visible":"/admin/products"===t.$route.path}])},null,2)])),_:1},8,["class"])]),(0,i._)("li",null,[(0,i.Wm)(a,{to:"/admin/order",class:(0,u.C_)(["duration-300 relative flex items-center h-[100px] text-primary/50 px-5 group hover:text-primary/100",{"!text-primary":"/admin/order"===t.$route.path}])},{default:(0,i.w5)((()=>[b,(0,i._)("div",{class:(0,u.C_)(["duration-300 absolute bottom-0 left-0 w-full bg-primary h-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible",{"!opacity-100 !visible":"/admin/order"===t.$route.path}])},null,2)])),_:1},8,["class"])]),(0,i._)("li",null,[(0,i.Wm)(a,{to:"/admin/coupon",class:(0,u.C_)(["duration-300 relative flex items-center h-[100px] text-primary/50 px-5 group hover:text-primary/100",{"!text-primary":"/admin/coupon"===t.$route.path}])},{default:(0,i.w5)((()=>[x,(0,i._)("div",{class:(0,u.C_)(["duration-300 absolute bottom-0 left-0 w-full bg-primary h-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible",{"!opacity-100 !visible":"/admin/coupon"===t.$route.path}])},null,2)])),_:1},8,["class"])]),(0,i._)("li",null,[(0,i.Wm)(a,{to:"/admin/articles",class:(0,u.C_)(["duration-300 relative flex items-center h-[100px] text-primary/50 px-5 group hover:text-primary/100",{"!text-primary":"/admin/articles"===t.$route.path}])},{default:(0,i.w5)((()=>[g,(0,i._)("div",{class:(0,u.C_)(["duration-300 absolute bottom-0 left-0 w-full bg-primary h-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible",{"!opacity-100 !visible":"/admin/articles"===t.$route.path}])},null,2)])),_:1},8,["class"])])]),(0,i.Wm)(a,{to:"/login",class:"relative w-[100px] h-[100px] border-primary border-l-2 group",onClick:l.signOut},{default:(0,i.w5)((()=>[y])),_:1},8,["onClick"])])])}var _={methods:{signOut(){const t="https://vue3-course-api.hexschool.io/v2/logout",e="已登出";this.$http.post(t).then((()=>{n().fire({position:"top-end",icon:"success",title:e,showConfirmButton:!1,timer:1500}),document.cookie="hexToken=;expires=;",this.$router.push("/login")})).catch((t=>{n().fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500})}))}}},k=o(3744);const $=(0,k.Z)(_,[["render",w]]);var C=$,B={components:{NavBar:C},data(){return{checkSuccess:!1}},methods:{checkLogin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(t){this.$http.defaults.headers.common.Authorization=`${t}`;const e="https://vue3-course-api.hexschool.io/v2/api/user/check",o="已登入";this.$http.post(e,{api_token:this.token}).then((()=>{n().fire({position:"top-end",icon:"success",title:o,showConfirmButton:!1,timer:1500}),this.checkSuccess=!0})).catch((t=>{n().fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500}),this.$router.push("/login")}))}else{const t="請先登入";n().fire({position:"top-end",icon:"error",title:t,showConfirmButton:!1,timer:1500}),this.$router.push("/login")}}},mounted(){this.checkLogin()}};const W=(0,k.Z)(B,[["render",l]]);var U=W},4942:function(t,e,o){t.exports=o.p+"img/icon-admin.bc6404ab.svg"},2835:function(t,e,o){t.exports=o.p+"img/logo.bd894e75.svg"}}]);
//# sourceMappingURL=775.3742e8ee.js.map