{"version":3,"file":"js/247.15c50254.js","mappings":"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","sources":["webpack://doublebrunch/./src/views/frontend/ProductView.vue","webpack://doublebrunch/./src/views/frontend/ProductView.vue?91bf"],"sourcesContent":["<template>\n  <LoadingComponent :isLoading=\"isLoading\"></LoadingComponent>\n  <section>\n    <div\n      class=\"flex flex-wrap border-primary border-b-2 lg:min-h-[calc(100vh-140px)]\"\n    >\n      <div class=\"w-full lg:w-1/2\">\n        <div class=\"relative pt-[100%] h-full lg:pt-0\">\n          <img\n            :src=\"product.imageUrl\"\n            :alt=\"product.title\"\n            class=\"absolute top-0 left-0 w-full h-full object-cover lg:relative\"\n          />\n        </div>\n      </div>\n      <div class=\"w-full lg:w-1/2\">\n        <div class=\"p-[15px] md:p-10 lg:p-[60px]\">\n          <span class=\"text-primary opacity-50\">{{ product.category }}</span>\n          <h2\n            class=\"text-24px text-primary mb-[15px] md:text-32px md:mb-5 lg:text-40px\"\n          >\n            {{ product.title }}\n          </h2>\n          <p class=\"text-primary mb-2\">\n            {{ product.description }}\n          </p>\n          <p class=\"text-12px text-primary mb-[15px] md:text-14px md:mb-[30px]\">\n            {{ product.content }}\n          </p>\n          <div class=\"mb-[15px] md:mb-10\">\n            <span\n              class=\"block\"\n              :class=\"{\n                'text-primary/50 line-through md:text-24px':\n                  product.origin_price !== product.price,\n                'text-24px text-primary md:text-32px':\n                  product.origin_price === product.price,\n              }\"\n              >原價 ${{ $filters.currency(product.origin_price) }}</span\n            >\n            <span\n              class=\"block text-24px text-primary mt-1 md:text-32px\"\n              v-if=\"product.origin_price !== product.price\"\n              >特價 ${{ $filters.currency(product.price) }}</span\n            >\n          </div>\n          <div class=\"border-primary border-2\">\n            <div class=\"flex border-primary border-b-2\">\n              <button\n                type=\"button\"\n                class=\"duration-300 relative w-[60px] h-[60px] group\"\n                :disabled=\"qty === 1\"\n                :class=\"{\n                  'cursor-not-allowed opacity-30': qty === 1,\n                  'hover:bg-primary': qty > 1,\n                }\"\n                @click=\"qty -= 1\"\n              >\n                <span\n                  class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-primary w-4 h-[2px]\"\n                  :class=\"{ 'group-hover:bg-white': qty > 1 }\"\n                ></span>\n              </button>\n              <input\n                type=\"text\"\n                class=\"text-primary text-center bg-secondary border-primary border-x-2 flex-1 w-full h-[60px]\"\n                onkeyup=\"value=value.replace(/[^\\d]/g,'').replace(/^0{1,}/g,'')\"\n                v-model.number=\"qty\"\n              />\n              <button\n                type=\"button\"\n                class=\"duration-300 relative w-[60px] h-[60px] group\"\n                :disabled=\"qty === maxNum || qty > maxNum\"\n                :class=\"{\n                  'cursor-not-allowed opacity-30':\n                    qty === maxNum || qty > maxNum,\n                  'hover:bg-primary': qty < maxNum,\n                }\"\n                @click=\"qty += 1\"\n              >\n                <span\n                  class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-primary w-4 h-[2px]\"\n                  :class=\"{ 'group-hover:bg-white': qty < maxNum }\"\n                ></span>\n                <span\n                  class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rotate-90 bg-primary w-4 h-[2px]\"\n                  :class=\"{ 'group-hover:bg-white': qty < maxNum }\"\n                ></span>\n              </button>\n            </div>\n            <div class=\"relative h-[60px]\">\n              <button\n                type=\"button\"\n                class=\"btn duration-[400ms] flex justify-center items-center w-full h-full group\"\n                :disabled=\"qty > maxNum\"\n                :class=\"{\n                  'opacity-30 pointer-events-none': qty > maxNum,\n                }\"\n                @click=\"addToCart(product.id, qty)\"\n              >\n                <svg\n                  width=\"20\"\n                  height=\"20\"\n                  viewBox=\"0 0 20 20\"\n                  class=\"duration-[400ms] stroke-primary group-hover:stroke-white\"\n                >\n                  <rect\n                    width=\"16\"\n                    height=\"12\"\n                    rx=\"3\"\n                    transform=\"translate(2 6)\"\n                    fill=\"none\"\n                    stroke-width=\"2\"\n                  />\n                  <path\n                    d=\"M13,9V5A4,4,0,0,0,5,5V9\"\n                    transform=\"translate(1 1)\"\n                    fill=\"none\"\n                    stroke-linecap=\"round\"\n                    stroke-linejoin=\"round\"\n                    stroke-width=\"2\"\n                  />\n                </svg>\n                <span class=\"ml-3\">加入購物車</span>\n              </button>\n              <div\n                class=\"absolute inset-0 flex justify-center items-center bg-primary\"\n                v-show=\"isLoadingItem === product.id\"\n              >\n                <div class=\"flex items-center\">\n                  <svg\n                    class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                  >\n                    <circle\n                      class=\"opacity-25\"\n                      cx=\"12\"\n                      cy=\"12\"\n                      r=\"10\"\n                      stroke=\"currentColor\"\n                      stroke-width=\"4\"\n                    ></circle>\n                    <path\n                      class=\"opacity-75\"\n                      fill=\"currentColor\"\n                      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                    ></path>\n                  </svg>\n                  <span class=\"text-white\">加入中...</span>\n                </div>\n              </div>\n              <span class=\"block text-warning mt-2\" v-if=\"qty > maxNum\"\n                >商品數量剩餘: {{ maxNum }}個</span\n              >\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <section>\n    <div class=\"flex border-primary border-b-2\">\n      <div class=\"w-full md:w-[calc(100%-240px)]\">\n        <div class=\"border-primary border-r-2\">\n          <div class=\"border-primary border-b-2 h-[60px] md:h-20\">\n            <h3\n              class=\"flex items-center text-20px text-primary h-full p-[15px] md:hidden\"\n            >\n              注意事項\n            </h3>\n          </div>\n          <ul class=\"p-[15px] md:pl-10 md:pr-5 md:py-[30px]\">\n            <li class=\"mb-5 md:mb-10\">\n              <h3 class=\"text-20px text-primary mb-[15px] md:text-24px md:mb-5\">\n                餐點注意事項\n              </h3>\n              <p class=\"text-primary leading-loose\">\n                餐點皆為現點現做，為保食物品質，請儘早食用，隔餐勿食。<br />\n                因冰品及甜點皆是手工製作，若當下未立即食用，請將其冷藏、冷凍，並於兩天內食用完畢。<br />\n                餐點內的季節水果，會隨著每季做更換，若有疑慮可提前詢問。\n              </p>\n            </li>\n            <li>\n              <h3 class=\"text-20px text-primary mb-[15px] md:text-24px md:mb-5\">\n                退款須知\n              </h3>\n              <p class=\"text-primary leading-loose\">\n                依《消費者保護法》及《食品安全衛生管理法》之規定，如遇餐點包裝瑕疵、餐點品項不符……等狀況，請立即聯絡本店，如情形屬實，皆可選擇重新製作或退款。\n              </p>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"hidden md:block md:w-[240px]\">\n        <div class=\"border-primary border-b-2 h-20\">\n          <h3\n            class=\"flex justify-center items-center text-24px text-primary h-full\"\n          >\n            注意事項\n          </h3>\n        </div>\n      </div>\n    </div>\n  </section>\n  <section>\n    <div class=\"flex flex-row-reverse\">\n      <div class=\"w-full md:w-[calc(100%-240px)]\">\n        <div class=\"border-primary border-l-2\">\n          <div class=\"border-primary border-b-2 h-[60px] md:h-20\">\n            <h3\n              class=\"flex items-center text-20px text-primary h-full p-[15px] md:hidden\"\n            >\n              相關餐點\n            </h3>\n          </div>\n          <div class=\"p-[15px] md:p-5\">\n            <Swiper\n              :slides-per-view=\"1\"\n              :space-between=\"20\"\n              :breakpoints=\"{\n                '992': {\n                  slidesPerView: 2,\n                },\n                '1200': {\n                  slidesPerView: 3,\n                },\n                '1440': {\n                  slidesPerView: 4,\n                },\n              }\"\n            >\n              <SwiperSlide v-for=\"product in filterProducts\" :key=\"product.id\">\n                <div class=\"relative border-primary border-2\">\n                  <div class=\"absolute top-0 left-5 z-20\">\n                    <img src=\"@/assets/images/icon-tag.svg\" alt=\"標籤\" />\n                    <span\n                      class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white\"\n                      >{{ product.category }}</span\n                    >\n                  </div>\n                  <router-link\n                    :to=\"`/product/${product.id}`\"\n                    class=\"group block\"\n                  >\n                    <div class=\"relative pt-[100%] overflow-hidden\">\n                      <img\n                        :src=\"product.imageUrl\"\n                        :alt=\"product.title\"\n                        class=\"duration-300 absolute top-0 left-0 w-full h-full object-cover group-hover:scale-110\"\n                      />\n                    </div>\n                  </router-link>\n                  <div\n                    class=\"flex justify-between border-primary border-b-2 p-5\"\n                  >\n                    <h4 class=\"text-20px text-primary\">{{ product.title }}</h4>\n                    <span class=\"text-20px text-primary\">{{\n                      $filters.currency(product.price)\n                    }}</span>\n                  </div>\n                  <div class=\"flex\">\n                    <button\n                      type=\"button\"\n                      class=\"relative w-[60px] h-[60px] group\"\n                      @click=\"toggleFavorite(product)\"\n                    >\n                      <img\n                        src=\"@/assets/images/icon-heart-fill.svg\"\n                        alt=\"愛心\"\n                        class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\"\n                        v-if=\"isFavorite(product)\"\n                      />\n                      <svg\n                        class=\"duration-300 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 stroke-primary fill-transparent group-hover:fill-primary\"\n                        v-else\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                        width=\"20\"\n                        height=\"20\"\n                        viewBox=\"0 0 20 20\"\n                      >\n                        <defs>\n                          <clipPath id=\"clip-icon-favorite\">\n                            <rect width=\"20\" height=\"20\" />\n                          </clipPath>\n                        </defs>\n                        <g\n                          id=\"icon-favorite\"\n                          clip-path=\"url(#clip-icon-favorite)\"\n                        >\n                          <path\n                            id=\"heart-solid\"\n                            d=\"M14.435,32.924a4.273,4.273,0,0,0-5.831.425l-.616.634-.616-.634a4.273,4.273,0,0,0-5.831-.425,4.487,4.487,0,0,0-.309,6.5l6.047,6.244a.98.98,0,0,0,1.416,0l6.047-6.244a4.484,4.484,0,0,0-.306-6.5Z\"\n                            transform=\"translate(2.012 -28.967)\"\n                            stroke-width=\"2\"\n                          />\n                        </g>\n                      </svg>\n                    </button>\n                    <div class=\"relative flex-1\">\n                      <button\n                        type=\"button\"\n                        class=\"flex justify-center items-center text-primary border-primary border-l-2 w-full h-full pointer-events-none\"\n                        v-if=\"isMaxNum(product)\"\n                      >\n                        商品已達購買上限\n                      </button>\n                      <button\n                        type=\"button\"\n                        class=\"btn duration-[400ms] flex justify-center items-center border-primary border-l-2 w-full h-full group\"\n                        v-else\n                        @click=\"addToCart(product.id)\"\n                      >\n                        <svg\n                          width=\"20\"\n                          height=\"20\"\n                          viewBox=\"0 0 20 20\"\n                          class=\"duration-[400ms] stroke-primary group-hover:stroke-white\"\n                        >\n                          <rect\n                            width=\"16\"\n                            height=\"12\"\n                            rx=\"3\"\n                            transform=\"translate(2 6)\"\n                            fill=\"none\"\n                            stroke-width=\"2\"\n                          />\n                          <path\n                            d=\"M13,9V5A4,4,0,0,0,5,5V9\"\n                            transform=\"translate(1 1)\"\n                            fill=\"none\"\n                            stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"\n                            stroke-width=\"2\"\n                          />\n                        </svg>\n                        <span class=\"ml-3\">加入購物車</span>\n                      </button>\n                      <div\n                        class=\"absolute inset-0 flex justify-center items-center bg-primary\"\n                        v-show=\"isLoadingItem === product.id\"\n                      >\n                        <div class=\"flex items-center\">\n                          <svg\n                            class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                          >\n                            <circle\n                              class=\"opacity-25\"\n                              cx=\"12\"\n                              cy=\"12\"\n                              r=\"10\"\n                              stroke=\"currentColor\"\n                              stroke-width=\"4\"\n                            ></circle>\n                            <path\n                              class=\"opacity-75\"\n                              fill=\"currentColor\"\n                              d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                            ></path>\n                          </svg>\n                          <span class=\"text-white\">加入中...</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </SwiperSlide>\n            </Swiper>\n          </div>\n        </div>\n      </div>\n      <div class=\"hidden md:block md:w-[240px]\">\n        <div class=\"border-primary border-b-2 h-20\">\n          <h3\n            class=\"flex justify-center items-center text-24px text-primary h-full\"\n          >\n            相關餐點\n          </h3>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport Swal from 'sweetalert2';\nimport emitter from '@/methods/emitter';\nimport { Swiper, SwiperSlide } from 'swiper/vue';\nimport { mapState } from 'pinia';\nimport statusStore from '@/stores/statusStore';\nimport LoadingComponent from '@/components/LoadingComponent.vue';\n\nconst statusModule = statusStore();\n\nexport default {\n  components: {\n    Swiper,\n    SwiperSlide,\n    LoadingComponent,\n  },\n  inject: ['routerRefresh'],\n  watch: {\n    $route: {\n      handler() {\n        this.routerRefresh();\n      },\n    },\n    // 因為是陣列，需要做深層監聽\n    favorite: {\n      handler() {\n        // localStorage 自訂欄位\n        localStorage.setItem('favorite', JSON.stringify(this.favorite));\n        emitter.emit('get-favorite');\n      },\n      deep: true,\n    },\n  },\n  data() {\n    return {\n      products: [],\n      product: {},\n      cart: {\n        carts: [],\n      },\n      favorite: JSON.parse(localStorage.getItem('favorite')) || [],\n      qty: 1,\n      isLoadingItem: '',\n    };\n  },\n  computed: {\n    ...mapState(statusStore, ['isLoading']),\n    filterProducts() {\n      const { category, id } = this.product;\n      return this.products.filter(\n        (item) => item.category === category && item.id !== id,\n      );\n    },\n    maxNum() {\n      const result = this.cart.carts.filter(\n        (item) => item.product_id === this.product.id,\n      )[0];\n      return result ? 30 - result.qty : 30;\n    },\n  },\n  methods: {\n    getProducts() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.products = res.data.products;\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    getProduct() {\n      statusModule.isLoading = true;\n      const { id } = this.$route.params;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${id}`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.product = res.data.product;\n          statusModule.isLoading = false;\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.cart = res.data.data;\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    addToCart(id, qty = 1) {\n      this.isLoadingItem = id;\n      const data = {\n        product_id: id,\n        qty,\n      };\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      const status = '已加入購物車';\n      this.$http\n        .post(url, { data })\n        .then(() => {\n          this.product.stock -= 1;\n          Swal.fire({\n            position: 'top-end',\n            icon: 'success',\n            title: status,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          emitter.emit('get-cart');\n          this.getCart();\n          this.qty = 1;\n          this.isLoadingItem = '';\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    toggleFavorite(product) {\n      // 查資料，有沒有這一個 id 如果有 1，沒有 -1\n      const favoriteIndex = this.favorite.findIndex(\n        (item) => item.id === product.id,\n      );\n      if (favoriteIndex === -1) {\n        this.favorite.push(product);\n        Swal.fire({\n          position: 'top-end',\n          icon: 'success',\n          title: '已加入我的最愛',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        this.favorite.splice(favoriteIndex, 1);\n        Swal.fire({\n          position: 'top-end',\n          icon: 'success',\n          title: '已移除我的最愛',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      }\n    },\n    isFavorite(item) {\n      return this.favorite.some((element) => element.id === item.id);\n    },\n    isMaxNum(product) {\n      const result = this.cart.carts.filter(\n        (cart) => cart.product_id === product.id,\n      )[0];\n      return result && result.qty === 30;\n    },\n  },\n  mounted() {\n    this.getProduct();\n    this.getProducts();\n    this.getCart();\n    emitter.on('update-favorite', () => {\n      this.favorite = JSON.parse(localStorage.getItem('favorite')) || [];\n    });\n  },\n};\n</script>\n","import { render } from \"./ProductView.vue?vue&type=template&id=b4f4e560\"\nimport script from \"./ProductView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\2022-Vue3直播班\\\\doublebrunch\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","height","viewBox","rx","transform","fill","d","_hoisted_19","_hoisted_20","_hoisted_23","src","_imports_0","alt","_imports_1","xmlns","id","_hoisted_45","_hoisted_46","type","_hoisted_51","_hoisted_52","cx","cy","r","stroke","_hoisted_55","_createVNode","_component_LoadingComponent","isLoading","_ctx","$data","imageUrl","title","_toDisplayString","category","description","content","origin_price","price","currency","_createElementBlock","disabled","onClick","onkeyup","$event","$options","_hoisted_24","_hoisted_26","_hoisted_30","_component_Swiper","breakpoints","_Fragment","_renderList","product","_createBlock","_component_SwiperSlide","key","_hoisted_34","_component_router_link","to","_hoisted_47","_hoisted_56","_hoisted_57","statusModule","statusStore","components","Swiper","SwiperSlide","LoadingComponent","inject","watch","$route","handler","this","routerRefresh","favorite","localStorage","setItem","JSON","stringify","emitter","deep","data","products","cart","carts","parse","getItem","qty","isLoadingItem","computed","mapState","filterProducts","filter","item","maxNum","result","product_id","methods","getProducts","url","$http","get","then","res","catch","err","Swal","position","icon","response","message","showConfirmButton","timer","getProduct","params","getCart","addToCart","status","post","stock","toggleFavorite","favoriteIndex","findIndex","push","splice","isFavorite","some","element","isMaxNum","mounted","__exports__","render"],"sourceRoot":""}