"use strict";(self["webpackChunkdoublebrunch"]=self["webpackChunkdoublebrunch"]||[]).push([[600],{9027:function(s,r,e){e.d(r,{Z:function(){return $}});var t=e(6252),a=e(3577),i=e(4768);const l={class:"border-primary border-b-2 p-[15px] md:p-5"},p={class:"flex justify-evenly items-center md:justify-center"},d=(0,t._)("span",{class:"block text-12px"},"Step.1",-1),c=(0,t._)("span",{class:"block text-14px md:text-16px"},"購物車",-1),n=[d,c],o=(0,t._)("span",{class:"block text-12px"},"Step.2",-1),m=(0,t._)("span",{class:"block text-14px md:text-16px"},"訂單資訊",-1),x=[o,m],_=(0,t._)("span",{class:"block text-12px"},"Step.3",-1),y=(0,t._)("span",{class:"block text-14px md:text-16px"},"確認訂單",-1),u=[_,y],w=(0,t._)("span",{class:"block text-12px"},"Step.4",-1),h=(0,t._)("span",{class:"block text-14px md:text-16px"},"完成訂單",-1),b=[w,h];function v(s,r,e,d,c,o){return(0,t.wg)(),(0,t.iD)("section",null,[(0,t._)("div",l,[(0,t._)("ul",p,[(0,t._)("li",null,[(0,t._)("div",{class:(0,a.C_)(["text-primary/50 text-center",{"!text-primary":e.step>="1"}])},n,2)]),(0,t._)("li",null,[(0,t._)("img",{src:i,alt:"icon-progress-arrow",class:(0,a.C_)(["opacity-50 md:mx-[30px]",{"!opacity-100":e.step>="2"}])},null,2)]),(0,t._)("li",null,[(0,t._)("div",{class:(0,a.C_)(["text-primary/50 text-center",{"!text-primary":e.step>="2"}])},x,2)]),(0,t._)("li",null,[(0,t._)("img",{src:i,alt:"icon-progress-arrow",class:(0,a.C_)(["opacity-50 md:mx-[30px]",{"!opacity-100":e.step>="3"}])},null,2)]),(0,t._)("li",null,[(0,t._)("div",{class:(0,a.C_)(["text-primary/50 text-center",{"!text-primary":e.step>="3"}])},u,2)]),(0,t._)("li",null,[(0,t._)("img",{src:i,alt:"icon-progress-arrow",class:(0,a.C_)(["opacity-50 md:mx-[30px]",{"!opacity-100":"4"===e.step}])},null,2)]),(0,t._)("li",null,[(0,t._)("div",{class:(0,a.C_)(["text-primary/50 text-center",{"!text-primary":"4"===e.step}])},b,2)])])])])}var g={props:{step:{type:String,default:""}}},f=e(3744);const z=(0,f.Z)(g,[["render",v]]);var $=z},3600:function(s,r,e){e.r(r),e.d(r,{default:function(){return Es}});var t=e(6252),a=e(3577),i=e(9963),l=e(3395);const p=(0,t._)("h2",{class:"text-20px text-white bg-primary p-[15px] md:p-5"},"確認訂單",-1),d={class:"px-5 pt-5 pb-10"},c={class:"border-primary border-b-2 pb-5"},n={class:"text-primary md:hidden"},o={class:"hidden md:flex"},m=(0,t._)("div",{class:"w-1/2"},[(0,t._)("span",{class:"text-primary"},"下單時間")],-1),x={class:"w-1/2"},_={class:"text-primary"},y={class:"border-primary border-b-2 py-5"},u={class:"text-primary md:hidden"},w={class:"hidden md:flex"},h=(0,t._)("div",{class:"w-1/2"},[(0,t._)("span",{class:"text-primary"},"訂單編號")],-1),b={class:"w-1/2"},v={class:"text-primary"},g={class:"border-primary border-b-2 py-5"},f={class:"text-primary md:hidden"},z={class:"hidden md:flex"},$=(0,t._)("div",{class:"w-1/2"},[(0,t._)("span",{class:"text-primary"},"姓名")],-1),k={class:"w-1/2"},C={class:"text-primary"},O={class:"border-primary border-b-2 py-5"},D={class:"text-primary md:hidden"},B={class:"hidden md:flex"},I=(0,t._)("div",{class:"w-1/2"},[(0,t._)("span",{class:"text-primary"},"電話")],-1),S={class:"w-1/2"},j={class:"text-primary"},Z={class:"border-primary border-b-2 py-5"},E={class:"text-primary md:hidden"},H={class:"hidden md:flex"},P=(0,t._)("div",{class:"w-1/2"},[(0,t._)("span",{class:"text-primary"},"E-mail")],-1),Y={class:"w-1/2"},q={class:"text-primary"},F={class:"border-primary border-b-2 py-5"},K={class:"text-primary md:hidden"},U={class:"hidden md:flex"},W=(0,t._)("div",{class:"w-1/2"},[(0,t._)("span",{class:"text-primary"},"地址")],-1),A={class:"w-1/2"},G={class:"text-primary"},J={class:"border-primary border-b-2 py-5"},L={class:"flex md:hidden"},M=(0,t._)("p",{class:"text-primary"},"備註：",-1),N={key:0,class:"text-primary"},Q={key:1,class:"text-primary"},R={class:"hidden md:flex"},T=(0,t._)("div",{class:"w-1/2"},[(0,t._)("span",{class:"text-primary"},"備註")],-1),V={class:"w-1/2"},X={key:0,class:"text-primary"},ss={key:1,class:"text-primary"},rs={class:"border-primary border-b-2 py-5"},es={class:"text-primary md:hidden"},ts={class:"hidden md:flex"},as=(0,t._)("div",{class:"w-1/2"},[(0,t._)("span",{class:"text-primary"},"總計")],-1),is={class:"w-1/2"},ls={class:"text-primary"},ps={class:"checkorder"},ds=(0,t._)("h2",{class:"text-20px text-white"},"訂單資訊",-1),cs={class:"px-[15px] py-5 md:p-5"},ns=(0,t.uE)('<li class="hidden border-primary border-b-2 pb-2.5 md:flex"><div class="w-2/5 lg:w-1/4"><span class="text-primary">商品資訊</span></div><div class="w-1/5 lg:w-1/4"><span class="text-primary">單件價格</span></div><div class="w-1/5 lg:w-1/4"><span class="text-primary">數量</span></div><div class="w-1/5 lg:w-1/4"><span class="text-primary">小計</span></div></li>',1),os={class:"w-full md:w-2/5 lg:w-1/4"},ms={class:"flex items-center mb-2.5 md:mb-0"},xs=["src","alt"],_s={class:"text-primary"},ys={class:"w-full md:w-1/5 lg:w-1/4"},us=(0,t._)("span",{class:"text-primary md:hidden"},"單件價格：",-1),ws={class:"text-primary"},hs={class:"w-full md:w-1/5 lg:w-1/4"},bs={class:"my-2.5 md:my-0"},vs=(0,t._)("span",{class:"text-primary md:hidden"},"數量：",-1),gs={class:"text-primary"},fs={class:"w-full md:w-1/5 lg:w-1/4"},zs=(0,t._)("span",{class:"text-primary md:hidden"},"小計：",-1),$s={class:"text-primary"},ks={class:"text-right mt-5"},Cs={class:"text-24px text-primary mb-5"};function Os(s,r,e,Os,Ds,Bs){const Is=(0,t.up)("ProgressBar");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(Is,{step:"3"}),(0,t._)("section",null,[p,(0,t._)("ul",d,[(0,t._)("li",c,[(0,t._)("p",n," 下單時間："+(0,a.zw)(s.$filters.date(Ds.order.create_at)),1),(0,t._)("div",o,[m,(0,t._)("div",x,[(0,t._)("span",_,(0,a.zw)(s.$filters.date(Ds.order.create_at)),1)])])]),(0,t._)("li",y,[(0,t._)("p",u,"訂單編號："+(0,a.zw)(Ds.order.id),1),(0,t._)("div",w,[h,(0,t._)("div",b,[(0,t._)("span",v,(0,a.zw)(Ds.order.id),1)])])]),(0,t._)("li",g,[(0,t._)("p",f,"姓名："+(0,a.zw)(Ds.user.name),1),(0,t._)("div",z,[$,(0,t._)("div",k,[(0,t._)("span",C,(0,a.zw)(Ds.user.name),1)])])]),(0,t._)("li",O,[(0,t._)("p",D,"電話："+(0,a.zw)(Ds.user.tel),1),(0,t._)("div",B,[I,(0,t._)("div",S,[(0,t._)("span",j,(0,a.zw)(Ds.user.tel),1)])])]),(0,t._)("li",Z,[(0,t._)("p",E,"E-mail："+(0,a.zw)(Ds.user.email),1),(0,t._)("div",H,[P,(0,t._)("div",Y,[(0,t._)("span",q,(0,a.zw)(Ds.user.email),1)])])]),(0,t._)("li",F,[(0,t._)("p",K,"地址："+(0,a.zw)(Ds.user.address),1),(0,t._)("div",U,[W,(0,t._)("div",A,[(0,t._)("span",G,(0,a.zw)(Ds.user.address),1)])])]),(0,t._)("li",J,[(0,t._)("div",L,[M,Ds.order.message?((0,t.wg)(),(0,t.iD)("span",N,(0,a.zw)(Ds.order.message),1)):((0,t.wg)(),(0,t.iD)("span",Q,"無"))]),(0,t._)("div",R,[T,(0,t._)("div",V,[Ds.order.message?((0,t.wg)(),(0,t.iD)("span",X,(0,a.zw)(Ds.order.message),1)):((0,t.wg)(),(0,t.iD)("span",ss,"無"))])])]),(0,t._)("li",rs,[(0,t._)("p",es," 總計：$"+(0,a.zw)(s.$filters.currency(Ds.order.total)),1),(0,t._)("div",ts,[as,(0,t._)("div",is,[(0,t._)("span",ls,"$"+(0,a.zw)(s.$filters.currency(Ds.order.total)),1)])])])])]),(0,t._)("section",ps,[(0,t._)("div",{class:"flex justify-between bg-primary p-[15px] md:p-5",onClick:r[0]||(r[0]=(...s)=>Bs.toggleOrderInfo&&Bs.toggleOrderInfo(...s))},[ds,(0,t._)("img",{src:l,alt:"icon-arrow-down",class:(0,a.C_)({"rotate-180":Ds.isOpen})},null,2)]),(0,t._)("div",cs,[(0,t.wy)((0,t._)("ul",null,[ns,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Ds.products,(r=>((0,t.wg)(),(0,t.iD)("li",{class:"relative flex flex-wrap items-center border-primary border-b-2 py-[15px] md:py-5",key:r.id},[(0,t._)("div",os,[(0,t._)("div",ms,[(0,t._)("img",{src:r.product.imageUrl,alt:r.title,class:"w-20 h-20 object-cover mr-5"},null,8,xs),(0,t._)("span",_s,(0,a.zw)(r.product.title),1)])]),(0,t._)("div",ys,[us,(0,t._)("span",ws,"$"+(0,a.zw)(s.$filters.currency(r.product.price)),1)]),(0,t._)("div",hs,[(0,t._)("div",bs,[vs,(0,t._)("span",gs,(0,a.zw)(r.qty),1)])]),(0,t._)("div",fs,[zs,(0,t._)("span",$s,"$"+(0,a.zw)(s.$filters.currency(r.total)),1)])])))),128))],512),[[i.F8,Ds.isOpen]]),(0,t._)("div",ks,[(0,t._)("p",Cs," 總計金額 : $"+(0,a.zw)(s.$filters.currency(Ds.order.total)),1),(0,t._)("button",{type:"button",class:"btn-light text-white bg-primary px-12 py-[18px]",onClick:r[1]||(r[1]=(...s)=>Bs.payOrder&&Bs.payOrder(...s))}," 確認結帳 ")])])])],64)}var Ds=e(6455),Bs=e.n(Ds),Is=e(9027),Ss={components:{ProgressBar:Is.Z},data(){return{order:{},orderId:"",user:{},products:{},isOpen:!0}},methods:{getOrder(){const{id:s}=this.$route.params,r=`https://vue3-course-api.hexschool.io/v2/api/rousong/order/${s}`;this.$http.get(r).then((s=>{this.order=s.data.order,this.user=s.data.order.user,this.products=s.data.order.products})).catch((s=>{Bs().fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:1500})}))},toggleOrderInfo(){this.isOpen=!this.isOpen},payOrder(){const{id:s}=this.$route.params,r=`https://vue3-course-api.hexschool.io/v2/api/rousong/pay/${s}`,e="付款成功";this.$http.post(r).then((s=>{s.data.success?(this.$router.push({name:"complete",params:{id:this.orderId}}),Bs().fire({position:"top-end",icon:"success",title:e,showConfirmButton:!1,timer:1500})):Bs().fire({position:"top-end",icon:"error",title:s.data.message,showConfirmButton:!1,timer:1500})})).catch((s=>{Bs().fire({position:"top-end",icon:"error",title:s.response.data.message,showConfirmButton:!1,timer:1500})}))}},mounted(){this.$route.params.id&&(this.orderId=this.$route.params.id),this.getOrder()}},js=e(3744);const Zs=(0,js.Z)(Ss,[["render",Os]]);var Es=Zs},3395:function(s,r,e){s.exports=e.p+"img/icon-arrow-down.db876a28.svg"},4768:function(s,r,e){s.exports=e.p+"img/icon-progress-arrow.8df09585.svg"}}]);
//# sourceMappingURL=600.1ad88e25.js.map