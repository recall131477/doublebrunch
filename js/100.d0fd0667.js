"use strict";(self["webpackChunkdoublebrunch"]=self["webpackChunkdoublebrunch"]||[]).push([[100],{5679:function(t,e,r){function o(t){return{all:t=t||new Map,on:function(e,r){var o=t.get(e);o?o.push(r):t.set(e,[r])},off:function(e,r){var o=t.get(e);o&&(r?o.splice(o.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var o=t.get(e);o&&o.slice().map((function(t){t(r)})),(o=t.get("*"))&&o.slice().map((function(t){t(e,r)}))}}}r.d(e,{Z:function(){return a}});const i=o();var a=i},8268:function(t,e,r){r.d(e,{Z:function(){return x}});var o=r(6252),i=r(3577),a=r(5604),l=r(6058);const n={class:"flex justify-center h-[60px] border-primary border-t-2"},s=["disabled"],p=(0,o._)("img",{src:a,alt:"icon-arrow-left",class:"duration-300 group-hover:scale-110"},null,-1),d=[p],c=["onClick"],u=["disabled"],m=(0,o._)("img",{src:l,alt:"icon-arrow-right",class:"duration-300 group-hover:scale-110"},null,-1),g=[m];function h(t,e,r,a,l,p){return(0,o.wg)(),(0,o.iD)("ul",n,[(0,o._)("li",null,[(0,o._)("button",{type:"button",class:(0,i.C_)(["flex justify-center items-center opacity-50 h-full cursor-not-allowed px-[25px] group",{"opacity-100 cursor-pointer":r.pages.has_pre}]),disabled:1===r.pages.current_page,onClick:e[0]||(e[0]=t=>p.changePages(r.pages.current_page-1))},d,10,s)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.pages.total_pages,((t,e)=>((0,o.wg)(),(0,o.iD)("li",{key:e},[(0,o._)("button",{type:"button",class:(0,i.C_)(["duration-300 flex justify-center items-center text-primary opacity-50 h-full px-[15px] hover:text-primary hover:opacity-100",{"opacity-100":t===r.pages.current_page}]),onClick:e=>p.changePages(t)},(0,i.zw)(t),11,c)])))),128)),(0,o._)("li",null,[(0,o._)("button",{type:"button",class:(0,i.C_)(["flex justify-center items-center opacity-50 h-full cursor-not-allowed px-[25px] group",{"opacity-100 cursor-pointer":r.pages.has_next}]),disabled:r.pages.current_page===r.pages.total_pages,onClick:e[1]||(e[1]=t=>p.changePages(r.pages.current_page+1))},g,10,u)])])}var y={props:{pages:{type:Object,default(){return{}}}},methods:{changePages(t){this.$emit("change-pages",t)}}},b=r(3744);const f=(0,b.Z)(y,[["render",h]]);var x=f},1664:function(t,e,r){r.d(e,{Z:function(){return v}});var o=r(6252),i=r(3577);const a={class:"relative flex justify-center items-center w-full min-h-[calc(100%-2.5rem)] max-w-[960px] pointer-events-none mx-auto my-5"},l={class:"w-full pointer-events-auto"},n=(0,o._)("h2",{class:"text-white bg-warning text-center py-5"},"刪除",-1),s={class:"bg-secondary"},p={class:"p-5"},d={key:0,class:"text-20px text-primary"},c={key:1,class:"text-20px text-primary"},u={key:2,class:"text-20px text-primary"},m={key:3,class:"text-20px text-primary"},g={class:"text-right border-primary border-t-2 p-5"};function h(t,e,r,h,y,b){return(0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)(["duration-300 fixed overflow-y-auto z-[1000] inset-0",{"opacity-0 invisible":!y.isOpen,"opacity-100 visible":y.isOpen}])},[(0,o._)("div",{class:"fixed top-0 left-0 w-full h-full bg-primary bg-opacity-50",onClick:e[0]||(e[0]=(...t)=>b.closeModal&&b.closeModal(...t))}),(0,o._)("div",a,[(0,o._)("div",l,[n,(0,o._)("div",s,[(0,o._)("div",p,["product"===r.navItem?((0,o.wg)(),(0,o.iD)("h3",d," 是否刪除商品："+(0,i.zw)(r.delProduct.title)+" (刪除後將無法恢復) ",1)):(0,o.kq)("",!0),"order"===r.navItem?((0,o.wg)(),(0,o.iD)("h3",c," 是否刪除訂單編號："+(0,i.zw)(r.delOrder.id)+" (刪除後將無法恢復) ",1)):(0,o.kq)("",!0),"coupon"===r.navItem?((0,o.wg)(),(0,o.iD)("h3",u," 是否刪除優惠券："+(0,i.zw)(r.delCoupon.title)+" (刪除後將無法恢復) ",1)):(0,o.kq)("",!0),"article"===r.navItem?((0,o.wg)(),(0,o.iD)("h3",m," 是否刪除文章："+(0,i.zw)(r.delArticle.title)+" (刪除後將無法恢復) ",1)):(0,o.kq)("",!0)]),(0,o._)("div",g,[(0,o._)("button",{type:"button",class:"duration-300 text-warning border-warning border-2 px-12 py-2.5 hover:text-white hover:bg-warning",onClick:e[1]||(e[1]=(...t)=>b.closeModal&&b.closeModal(...t))}," 取消 "),"product"===r.navItem?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"duration-300 text-primary border-primary border-2 px-12 py-2.5 ml-2.5 hover:text-white hover:bg-primary",onClick:e[2]||(e[2]=(...t)=>b.deleteProduct&&b.deleteProduct(...t))}," 確認刪除 ")):(0,o.kq)("",!0),"order"===r.navItem?((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",class:"duration-300 text-primary border-primary border-2 px-12 py-2.5 ml-2.5 hover:text-white hover:bg-primary",onClick:e[3]||(e[3]=(...t)=>b.deleteOrder&&b.deleteOrder(...t))}," 確認刪除 ")):(0,o.kq)("",!0),"coupon"===r.navItem?((0,o.wg)(),(0,o.iD)("button",{key:2,type:"button",class:"duration-300 text-primary border-primary border-2 px-12 py-2.5 ml-2.5 hover:text-white hover:bg-primary",onClick:e[4]||(e[4]=(...t)=>b.deleteCoupon&&b.deleteCoupon(...t))}," 確認刪除 ")):(0,o.kq)("",!0),"article"===r.navItem?((0,o.wg)(),(0,o.iD)("button",{key:3,type:"button",class:"duration-300 text-primary border-primary border-2 px-12 py-2.5 ml-2.5 hover:text-white hover:bg-primary",onClick:e[5]||(e[5]=(...t)=>b.deleteArticle&&b.deleteArticle(...t))}," 確認刪除 ")):(0,o.kq)("",!0)])])])])],2)}var y=r(6455),b=r.n(y),f={props:{delProduct:{type:Object,default(){return{}}},delOrder:{type:Object,default(){return{}}},delCoupon:{type:Object,default(){return{}}},delArticle:{type:Object,default(){return{}}},currentPage:{type:Number,default:1},navItem:{type:String,default:""}},data(){return{isOpen:!1}},methods:{deleteProduct(){const t="刪除商品成功",{id:e}=this.delProduct,r=`https://vue3-course-api.hexschool.io/v2/api/rousong/admin/product/${e}`;this.$http.delete(r).then((()=>{b().fire({position:"top-end",icon:"success",title:t,showConfirmButton:!1,timer:1500}),this.$emit("update-product",this.currentPage),this.closeModal()})).catch((t=>{b().fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500})}))},deleteOrder(){const t="刪除訂單成功",{id:e}=this.delOrder,r=`https://vue3-course-api.hexschool.io/v2/api/rousong/admin/order/${e}`;this.$http.delete(r).then((()=>{b().fire({position:"top-end",icon:"success",title:t,showConfirmButton:!1,timer:1500}),this.$emit("update-order",this.currentPage),this.closeModal()})).catch((t=>{b().fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500})}))},deleteCoupon(){const t="刪除優惠券成功",{id:e}=this.delCoupon,r=`https://vue3-course-api.hexschool.io/v2/api/rousong/admin/coupon/${e}`;this.$http.delete(r).then((()=>{b().fire({position:"top-end",icon:"success",title:t,showConfirmButton:!1,timer:1500}),this.$emit("update-coupon",this.currentPage),this.closeModal()})).catch((t=>{b().fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500})}))},deleteArticle(){const t="刪除文章成功",{id:e}=this.delArticle,r=`https://vue3-course-api.hexschool.io/v2/api/rousong/admin/article/${e}`;this.$http.delete(r).then((()=>{b().fire({position:"top-end",icon:"success",title:t,showConfirmButton:!1,timer:1500}),this.$emit("update-article",this.currentPage),this.closeModal()})).catch((t=>{b().fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500})}))},openModal(){this.isOpen=!0},closeModal(){this.isOpen=!1}}},x=r(3744);const w=(0,x.Z)(f,[["render",h]]);var v=w},9100:function(t,e,r){r.r(e),r.d(e,{default:function(){return ct}});var o=r(6252),i=r(3577),a=r(9963);const l={class:"text-right h-[100px] p-5"},n={class:"border-primary border-t-2"},s=(0,o._)("li",null,[(0,o._)("ul",{class:"grid grid-cols-6 text-primary px-5 py-2.5"},[(0,o._)("li",null,"分類"),(0,o._)("li",null,"產品名稱"),(0,o._)("li",null,"原價"),(0,o._)("li",null,"售價"),(0,o._)("li",null,"是否啟用"),(0,o._)("li",null,"編輯")])],-1),p={class:"grid grid-cols-6 items-center text-primary border-primary border-t-2 px-5 py-2.5"},d={class:"flex items-center"},c=["id","disabled","onUpdate:modelValue","onChange"],u=["for"],m={key:0},g={class:"grid grid-cols-2 gap-x-2.5"},h={class:"col-span-1"},y=["onClick"],b={class:"col-span-1"},f=["onClick"];function x(t,e,r,x,w,v){const _=(0,o.up)("Pagination"),P=(0,o.up)("ProductModal"),k=(0,o.up)("DeleteModal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",l,[(0,o._)("button",{type:"button",class:"btn-light text-white bg-primary h-full w-40",onClick:e[0]||(e[0]=t=>v.openModal("add"))}," 建立新的產品 ")]),(0,o._)("ul",n,[s,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(w.products,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t.id},[(0,o._)("ul",p,[(0,o._)("li",null,(0,i.zw)(t.category),1),(0,o._)("li",null,(0,i.zw)(t.title),1),(0,o._)("li",null,(0,i.zw)(t.origin_price),1),(0,o._)("li",null,(0,i.zw)(t.price),1),(0,o._)("li",null,[(0,o._)("div",d,[(0,o.wy)((0,o._)("input",{type:"checkbox",id:`${t.id}`,class:"btn-check mr-2","true-value":1,"false-value":0,disabled:w.tempId===t.id,"onUpdate:modelValue":e=>t.is_enabled=e,onChange:e=>v.updateProduct(t)},null,40,c),[[a.e8,t.is_enabled]]),(0,o._)("label",{for:`${t.id}`},[t.is_enabled?((0,o.wg)(),(0,o.iD)("span",m,"啟用")):((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,i.C_)({"text-warning":!t.is_enabled})},"未啟用",2))],8,u)])]),(0,o._)("li",g,[(0,o._)("div",h,[(0,o._)("button",{type:"button",class:"duration-300 border-primary border-2 w-full py-2.5 hover:text-white hover:bg-primary",onClick:e=>v.openModal("edit",t)}," 編輯 ",8,y)]),(0,o._)("div",b,[(0,o._)("button",{type:"button",class:"duration-300 text-warning border-warning border-2 w-full py-2.5 hover:text-white hover:bg-warning",onClick:e=>v.openModal("delete",t)}," 刪除 ",8,f)])])])])))),128))]),w.pagination.total_pages>1?((0,o.wg)(),(0,o.j4)(_,{key:0,pages:w.pagination,onChangePages:v.getProducts},null,8,["pages","onChangePages"])):(0,o.kq)("",!0),(0,o.Wm)(P,{ref:"productModal",product:w.tempProduct,status:w.status,currentPage:w.pagination.current_page,onUpdateProduct:v.getProducts,onCancelId:v.cancelId},null,8,["product","status","currentPage","onUpdateProduct","onCancelId"]),(0,o.Wm)(k,{ref:"delProductModal",delProduct:w.tempProduct,currentPage:w.pagination.current_page,navItem:w.navItem,onUpdateProduct:v.getProducts},null,8,["delProduct","currentPage","navItem","onUpdateProduct"])],64)}var w=r(6455),v=r.n(w),_=r(5679),P=r(8268);const k={class:"relative flex justify-center items-center w-full min-h-[calc(100%-2.5rem)] max-w-[960px] pointer-events-none mx-auto my-5"},C={class:"w-full pointer-events-auto"},U={key:0,class:"text-white bg-primary text-center py-5"},M={key:1,class:"text-white bg-primary text-center py-5"},D={class:"bg-secondary"},O={class:"grid grid-cols-3 gap-5 p-5"},I={class:"col-span-1"},$=(0,o._)("h3",{class:"text-primary mb-1"},"主要圖片",-1),B={class:"space-y-5"},j=["src","alt"],V=(0,o._)("h3",{class:"text-primary mb-1"},"多圖新增",-1),z={key:0},S=(0,o._)("h3",{class:"text-primary mb-1"},"圖片網址",-1),q=["onUpdate:modelValue"],Z=["src"],A={key:1},N={class:"col-span-2 space-y-5"},F=(0,o._)("label",{for:"title",class:"block text-primary w-full mb-1"},"標題",-1),J={class:"grid grid-cols-2 gap-5 mb-5"},H={class:"col-span-1"},Y=(0,o._)("label",{for:"category",class:"block text-primary w-full mb-1"},"分類",-1),K={class:"col-span-1"},W=(0,o._)("label",{for:"unit",class:"block text-primary w-full mb-1"},"單位",-1),T={class:"grid grid-cols-2 gap-5"},E={class:"col-span-1"},G=(0,o._)("label",{for:"originPrice",class:"block text-primary w-full mb-1"},"原價",-1),L={class:"col-span-1"},Q=(0,o._)("label",{for:"price",class:"block text-primary w-full mb-1"},"售價",-1),R=(0,o._)("label",{for:"description",class:"block text-primary w-full mb-1"},"產品描述",-1),X=(0,o._)("label",{for:"content",class:"block text-primary w-full mb-1"},"說明內容",-1),tt={class:"flex items-center"},et=(0,o._)("label",{for:"is_enabled",class:"text-primary"},"是否啟用",-1),rt={class:"text-right border-primary border-t-2 p-5"};function ot(t,e,r,l,n,s){return(0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)(["duration-300 fixed overflow-y-auto z-[1000] inset-0",{"opacity-0 invisible":!n.isOpen,"opacity-100 visible":n.isOpen}])},[(0,o._)("div",{class:"fixed top-0 left-0 w-full h-full bg-primary bg-opacity-50",onClick:e[0]||(e[0]=(...t)=>s.closeModal&&s.closeModal(...t))}),(0,o._)("div",k,[(0,o._)("div",C,["add"===r.status?((0,o.wg)(),(0,o.iD)("h2",U," 新增產品 ")):((0,o.wg)(),(0,o.iD)("h2",M,"編輯產品")),(0,o._)("div",D,[(0,o._)("div",O,[(0,o._)("div",I,[$,(0,o._)("div",B,[(0,o.wy)((0,o._)("input",{type:"text",placeholder:"請輸入圖片連結",class:"text-primary bg-secondary border-primary border-2 w-full h-[60px] px-5","onUpdate:modelValue":e[1]||(e[1]=t=>n.tempProduct.imageUrl=t)},null,512),[[a.nr,n.tempProduct.imageUrl]]),n.tempProduct.imageUrl?((0,o.wg)(),(0,o.iD)("img",{key:0,src:n.tempProduct.imageUrl,alt:n.tempProduct.title},null,8,j)):(0,o.kq)("",!0),(0,o._)("input",{type:"file",id:"file",class:"btn-file border-primary border-2 w-full h-[60px]",ref:"fileInput",onChange:e[2]||(e[2]=(...t)=>s.uploadFile&&s.uploadFile(...t))},null,544),(0,o._)("div",null,[V,Array.isArray(n.tempProduct.imagesUrl)?((0,o.wg)(),(0,o.iD)("div",z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.tempProduct.imagesUrl,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:e},[S,(0,o.wy)((0,o._)("input",{type:"text",placeholder:"請輸入圖片連結",class:"text-primary bg-secondary border-primary border-2 w-full h-[60px] px-5 mb-5","onUpdate:modelValue":t=>n.tempProduct.imagesUrl[e]=t},null,8,q),[[a.nr,n.tempProduct.imagesUrl[e]]]),t?((0,o.wg)(),(0,o.iD)("img",{key:0,src:t,alt:"",class:"mb-5"},null,8,Z)):(0,o.kq)("",!0)])))),128)),!n.tempProduct.imagesUrl.length||n.tempProduct.imagesUrl[n.tempProduct.imagesUrl.length-1]?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:"text-primary border-primary border-2 w-full py-2.5",onClick:e[3]||(e[3]=t=>n.tempProduct.imagesUrl.push(""))}," 新增圖片 ")):((0,o.wg)(),(0,o.iD)("button",{key:1,type:"button",class:"text-warning border-warning border-2 w-full py-2.5",onClick:e[4]||(e[4]=t=>n.tempProduct.imagesUrl.pop())}," 刪除圖片 "))])):((0,o.wg)(),(0,o.iD)("div",A,[(0,o._)("button",{type:"button",class:"text-primary border-primary border-2 w-full py-2.5",onClick:e[5]||(e[5]=(...t)=>s.uploadImagesForUrl&&s.uploadImagesForUrl(...t))}," 新增圖片 ")]))])])]),(0,o._)("div",N,[(0,o._)("div",null,[F,(0,o.wy)((0,o._)("input",{type:"text",id:"title",placeholder:"請輸入標題",class:"text-primary bg-secondary border-primary border-2 w-full h-[60px] px-5","onUpdate:modelValue":e[6]||(e[6]=t=>n.tempProduct.title=t)},null,512),[[a.nr,n.tempProduct.title]])]),(0,o._)("div",J,[(0,o._)("div",H,[Y,(0,o.wy)((0,o._)("input",{type:"text",id:"category",placeholder:"請輸入分類",class:"text-primary bg-secondary border-primary border-2 w-full h-[60px] px-5","onUpdate:modelValue":e[7]||(e[7]=t=>n.tempProduct.category=t)},null,512),[[a.nr,n.tempProduct.category]])]),(0,o._)("div",K,[W,(0,o.wy)((0,o._)("input",{type:"text",id:"unit",placeholder:"請輸入單位",class:"text-primary bg-secondary border-primary border-2 w-full h-[60px] px-5","onUpdate:modelValue":e[8]||(e[8]=t=>n.tempProduct.unit=t)},null,512),[[a.nr,n.tempProduct.unit]])])]),(0,o._)("div",T,[(0,o._)("div",E,[G,(0,o.wy)((0,o._)("input",{type:"text",id:"originPrice",placeholder:"請輸入原價",class:"text-primary bg-secondary border-primary border-2 w-full h-[60px] px-5","onUpdate:modelValue":e[9]||(e[9]=t=>n.tempProduct.origin_price=t)},null,512),[[a.nr,n.tempProduct.origin_price,void 0,{number:!0}]])]),(0,o._)("div",L,[Q,(0,o.wy)((0,o._)("input",{type:"text",id:"price",placeholder:"請輸入售價",class:"text-primary bg-secondary border-primary border-2 w-full h-[60px] px-5","onUpdate:modelValue":e[10]||(e[10]=t=>n.tempProduct.price=t)},null,512),[[a.nr,n.tempProduct.price,void 0,{number:!0}]])])]),(0,o._)("div",null,[R,(0,o.wy)((0,o._)("input",{type:"text",id:"description",placeholder:"請輸入產品描述",class:"text-primary bg-secondary border-primary border-2 w-full h-[60px] px-5","onUpdate:modelValue":e[11]||(e[11]=t=>n.tempProduct.description=t)},null,512),[[a.nr,n.tempProduct.description]])]),(0,o._)("div",null,[X,(0,o.wy)((0,o._)("input",{type:"text",id:"content",placeholder:"請輸入說明內容",class:"text-primary bg-secondary border-primary border-2 w-full h-[60px] px-5","onUpdate:modelValue":e[12]||(e[12]=t=>n.tempProduct.content=t)},null,512),[[a.nr,n.tempProduct.content]])]),(0,o._)("div",tt,[(0,o.wy)((0,o._)("input",{type:"checkbox",id:"is_enabled",class:"btn-check mr-2","true-value":1,"false-value":0,"onUpdate:modelValue":e[13]||(e[13]=t=>n.tempProduct.is_enabled=t)},null,512),[[a.e8,n.tempProduct.is_enabled]]),et])])]),(0,o._)("div",rt,[(0,o._)("button",{type:"button",class:"duration-300 text-warning border-warning border-2 px-12 py-2.5 hover:text-white hover:bg-warning",onClick:e[14]||(e[14]=(...t)=>s.closeModal&&s.closeModal(...t))}," 取消 "),(0,o._)("button",{type:"button",class:"duration-300 text-primary border-primary border-2 px-12 py-2.5 ml-2.5 hover:text-white hover:bg-primary",onClick:e[15]||(e[15]=t=>s.updateProduct(n.tempProduct.id))},(0,i.zw)("add"===r.status?"新增":"修改"),1)])])])])],2)}var it={props:{product:{type:Object,default(){return{}}},status:{type:String,default:""},currentPage:{type:Number,default:1}},watch:{product(){this.tempProduct=JSON.parse(JSON.stringify(this.product))},status(){this.tempStatus=this.status}},data(){return{isOpen:!1,tempProduct:{imagesUrl:[]},tempStatus:""}},methods:{updateProduct(t){let e="https://vue3-course-api.hexschool.io/v2/api/rousong/admin/product",r="post",o="新增產品成功";"add"!==this.tempStatus&&(e=`https://vue3-course-api.hexschool.io/v2/api/rousong/admin/product/${t}`,r="put",o="更新產品成功"),this.$http[r](e,{data:this.tempProduct}).then((()=>{v().fire({position:"top-end",icon:"success",title:o,showConfirmButton:!1,timer:1500}),this.$emit("update-product",this.currentPage),this.$emit("cancel-id"),this.closeModal()})).catch((t=>{v().fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500})}))},uploadImagesForUrl(){this.tempProduct.imagesUrl=[],this.tempProduct.imagesUrl.push("")},uploadFile(){const t=this.$refs.fileInput.files[0],e=new FormData;e.append("file-to-upload",t);const r="https://vue3-course-api.hexschool.io/v2/api/rousong/admin/upload",o="圖片上傳成功";this.$http.post(r,e,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{t.data.success?(this.tempProduct.imageUrl=t.data.imageUrl,this.$refs.fileInput.value="",v().fire({position:"top-end",icon:"success",title:o,showConfirmButton:!1,timer:1500})):(this.$refs.fileInput.value="",v().fire({position:"top-end",icon:"error",title:t.data.message,showConfirmButton:!1,timer:1500}))})).catch((t=>{v().fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500})}))},openModal(){this.isOpen=!0},closeModal(){this.isOpen=!1}},mounted(){_.Z.on("update-product",(t=>{this.tempStatus="edit",this.tempProduct=t,this.updateProduct(t.id)}))}},at=r(3744);const lt=(0,at.Z)(it,[["render",ot]]);var nt=lt,st=r(1664),pt={components:{Pagination:P.Z,ProductModal:nt,DeleteModal:st.Z},data(){return{products:[],tempProduct:{imagesUrl:[]},status:"",pagination:{},navItem:"product",tempId:""}},methods:{getProducts(t=1){const e=`https://vue3-course-api.hexschool.io/v2/api/rousong/admin/products?page=${t}`;this.$http.get(e).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination})).catch((t=>{v().fire({position:"top-end",icon:"error",title:t.response.data.message,showConfirmButton:!1,timer:1500})}))},updateProduct(t){this.tempId=t.id,_.Z.emit("update-product",t)},cancelId(){this.tempId=""},openModal(t,e){this.status=t,"add"===t?(this.tempProduct={imagesUrl:[]},this.$refs.productModal.openModal()):"edit"===t?(this.tempProduct=JSON.parse(JSON.stringify(e)),this.$refs.productModal.openModal()):"delete"===t&&(this.tempProduct=JSON.parse(JSON.stringify(e)),this.$refs.delProductModal.openModal())}},mounted(){this.getProducts()}};const dt=(0,at.Z)(pt,[["render",x]]);var ct=dt},5604:function(t,e,r){t.exports=r.p+"img/icon-arrow-left.6f0ad973.svg"},6058:function(t,e,r){t.exports=r.p+"img/icon-arrow-right.624a1ec8.svg"}}]);
//# sourceMappingURL=100.d0fd0667.js.map