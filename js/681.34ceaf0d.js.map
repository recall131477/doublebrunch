{"version":3,"file":"js/681.34ceaf0d.js","mappings":"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","sources":["webpack://doublebrunch/./node_modules/mitt/dist/mitt.mjs","webpack://doublebrunch/./src/methods/emitter.js","webpack://doublebrunch/./src/stores/statusStore.js","webpack://doublebrunch/./src/components/LoadingComponent.vue","webpack://doublebrunch/./src/components/LoadingComponent.vue?8b0c","webpack://doublebrunch/./src/views/frontend/SearchView.vue","webpack://doublebrunch/./src/views/frontend/SearchView.vue?ce60"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","// 使用 mitt 需先執行\nimport mitt from 'mitt';\n\nconst emitter = mitt();\nexport default emitter;\n","import { defineStore } from 'pinia';\n\nexport default defineStore('statusStore', {\n  state: () => ({\n    isLoading: false,\n  }),\n  actions: {\n    changeLoading() {\n      this.isLoading = !this.isLoading;\n    },\n  },\n});\n","<template>\n  <div class=\"loading\" :class=\"{ 'is-active': isLoading }\">\n    <div class=\"loading__main\">\n      <div\n        class=\"loading__square absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[60px] h-[60px] bg-primary rounded -mt-2\"\n      ></div>\n      <span\n        class=\"relative block text-24px text-secondary w-full h-full pt-2\"\n        >午</span\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    isLoading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n","import { render } from \"./LoadingComponent.vue?vue&type=template&id=28535fb6\"\nimport script from \"./LoadingComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\2022-Vue3直播班\\\\doublebrunch\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <LoadingComponent :isLoading=\"isLoading\"></LoadingComponent>\n  <section>\n    <div class=\"pt-[30px] px-5 pb-5\">\n      <div class=\"relative border-primary border-2 mb-2.5\">\n        <input\n          type=\"text\"\n          id=\"keyword\"\n          class=\"text-primary bg-secondary w-full h-[60px] px-5\"\n          v-model=\"keyword\"\n        />\n        <img\n          src=\"@/assets/images/icon-search.svg\"\n          alt=\"放大鏡\"\n          class=\"absolute top-1/2 right-5 -translate-y-1/2\"\n        />\n      </div>\n      <p class=\"text-primary mb-5\">\n        共有\n        <span class=\"text-24px\">{{ filterProducts.length }}</span> 筆搜尋結果\n      </p>\n      <ul\n        class=\"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5\"\n      >\n        <li v-for=\"product in filterProducts\" :key=\"product.id\">\n          <div class=\"relative border-primary border-2\">\n            <div class=\"absolute top-0 left-5 z-20\">\n              <img src=\"@/assets/images/icon-tag.svg\" alt=\"標籤\" />\n              <span\n                class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white\"\n                >{{ product.category }}</span\n              >\n            </div>\n            <router-link :to=\"`/product/${product.id}`\" class=\"group block\">\n              <div class=\"relative pt-[100%] overflow-hidden\">\n                <img\n                  :src=\"product.imageUrl\"\n                  :alt=\"product.title\"\n                  class=\"duration-300 absolute top-0 left-0 w-full h-full object-cover group-hover:scale-110\"\n                />\n              </div>\n            </router-link>\n            <div class=\"flex justify-between border-primary border-b-2 p-5\">\n              <h4 class=\"text-20px text-primary\">{{ product.title }}</h4>\n              <span class=\"text-20px text-primary\"\n                >${{ $filters.currency(product.price) }}</span\n              >\n            </div>\n            <div class=\"flex\">\n              <button\n                type=\"button\"\n                class=\"relative w-[60px] h-[60px] group\"\n                @click=\"toggleFavorite(product)\"\n              >\n                <img\n                  src=\"@/assets/images/icon-heart-fill.svg\"\n                  alt=\"愛心\"\n                  class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\"\n                  v-if=\"isFavorite(product)\"\n                />\n                <svg\n                  class=\"duration-300 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 stroke-primary fill-transparent group-hover:fill-primary\"\n                  v-else\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                  width=\"20\"\n                  height=\"20\"\n                  viewBox=\"0 0 20 20\"\n                >\n                  <defs>\n                    <clipPath id=\"clip-icon-favorite\">\n                      <rect width=\"20\" height=\"20\" />\n                    </clipPath>\n                  </defs>\n                  <g id=\"icon-favorite\" clip-path=\"url(#clip-icon-favorite)\">\n                    <path\n                      id=\"heart-solid\"\n                      d=\"M14.435,32.924a4.273,4.273,0,0,0-5.831.425l-.616.634-.616-.634a4.273,4.273,0,0,0-5.831-.425,4.487,4.487,0,0,0-.309,6.5l6.047,6.244a.98.98,0,0,0,1.416,0l6.047-6.244a4.484,4.484,0,0,0-.306-6.5Z\"\n                      transform=\"translate(2.012 -28.967)\"\n                      stroke-width=\"2\"\n                    />\n                  </g>\n                </svg>\n              </button>\n              <div class=\"relative flex-1\">\n                <button\n                  type=\"button\"\n                  class=\"flex justify-center items-center text-primary border-primary border-l-2 w-full h-full pointer-events-none\"\n                  v-if=\"isMaxNum(product)\"\n                >\n                  商品已達購買上限\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn duration-[400ms] flex justify-center items-center border-primary border-l-2 w-full h-full group\"\n                  v-else\n                  @click=\"addToCart(product.id)\"\n                >\n                  <svg\n                    width=\"20\"\n                    height=\"20\"\n                    viewBox=\"0 0 20 20\"\n                    class=\"duration-[400ms] stroke-primary group-hover:stroke-white\"\n                  >\n                    <rect\n                      width=\"16\"\n                      height=\"12\"\n                      rx=\"3\"\n                      transform=\"translate(2 6)\"\n                      fill=\"none\"\n                      stroke-width=\"2\"\n                    />\n                    <path\n                      d=\"M13,9V5A4,4,0,0,0,5,5V9\"\n                      transform=\"translate(1 1)\"\n                      fill=\"none\"\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      stroke-width=\"2\"\n                    />\n                  </svg>\n                  <span class=\"ml-3\">加入購物車</span>\n                </button>\n                <div\n                  class=\"absolute inset-0 flex justify-center items-center bg-primary\"\n                  v-show=\"isLoadingItem === product.id\"\n                >\n                  <div class=\"flex items-center\">\n                    <svg\n                      class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                    >\n                      <circle\n                        class=\"opacity-25\"\n                        cx=\"12\"\n                        cy=\"12\"\n                        r=\"10\"\n                        stroke=\"currentColor\"\n                        stroke-width=\"4\"\n                      ></circle>\n                      <path\n                        class=\"opacity-75\"\n                        fill=\"currentColor\"\n                        d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                      ></path>\n                    </svg>\n                    <span class=\"text-white\">加入中...</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </section>\n</template>\n\n<script>\nimport Swal from 'sweetalert2';\nimport emitter from '@/methods/emitter';\nimport { mapState } from 'pinia';\nimport statusStore from '@/stores/statusStore';\nimport LoadingComponent from '@/components/LoadingComponent.vue';\n\nconst statusModule = statusStore();\n\nexport default {\n  components: {\n    LoadingComponent,\n  },\n  inject: ['routerRefresh'],\n  watch: {\n    $route: {\n      handler() {\n        this.routerRefresh();\n      },\n    },\n    // 因為是陣列，需要做深層監聽\n    favorite: {\n      handler() {\n        // localStorage 自訂欄位\n        localStorage.setItem('favorite', JSON.stringify(this.favorite));\n        emitter.emit('get-favorite');\n      },\n      deep: true,\n    },\n  },\n  data() {\n    return {\n      products: [],\n      cart: {\n        carts: [],\n      },\n      keyword: '',\n      favorite: JSON.parse(localStorage.getItem('favorite')) || [],\n      isLoadingItem: '',\n    };\n  },\n  computed: {\n    ...mapState(statusStore, ['isLoading']),\n    filterProducts() {\n      return this.keyword === ''\n        ? this.products\n        : this.products.filter((item) => item.title.match(this.keyword) || item.category.match(this.keyword));\n    },\n  },\n  methods: {\n    getProducts() {\n      statusModule.isLoading = true;\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.products = res.data.products;\n          this.products.reverse();\n          statusModule.isLoading = false;\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    getCart() {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.cart = res.data.data;\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    addToCart(id, qty = 1) {\n      this.isLoadingItem = id;\n      const data = {\n        product_id: id,\n        qty,\n      };\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      const status = '加入購物車';\n      this.$http\n        .post(url, { data })\n        .then(() => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'success',\n            title: status,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          emitter.emit('get-cart');\n          this.getCart();\n          this.isLoadingItem = '';\n        })\n        .catch((err) => {\n          Swal.fire({\n            position: 'top-end',\n            icon: 'error',\n            title: err.response.data.message,\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        });\n    },\n    toggleFavorite(product) {\n      // 查資料，有沒有這一個 id 如果有 1，沒有 -1\n      const favoriteIndex = this.favorite.findIndex(\n        (item) => item.id === product.id,\n      );\n      if (favoriteIndex === -1) {\n        this.favorite.push(product);\n        Swal.fire({\n          position: 'top-end',\n          icon: 'success',\n          title: '已加入我的最愛',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        this.favorite.splice(favoriteIndex, 1);\n        Swal.fire({\n          position: 'top-end',\n          icon: 'success',\n          title: '已移除我的最愛',\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      }\n    },\n    isFavorite(item) {\n      return this.favorite.some((element) => element.id === item.id);\n    },\n    isMaxNum(product) {\n      const result = this.cart.carts.filter(\n        (cart) => cart.product_id === product.id,\n      )[0];\n      return result && result.qty === 30;\n    },\n  },\n  mounted() {\n    if (this.$route.query.keyword) {\n      this.keyword = this.$route.query.keyword;\n    }\n    this.getProducts();\n    this.getCart();\n  },\n};\n</script>\n","import { render } from \"./SearchView.vue?vue&type=template&id=5d9d0074\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\2022-Vue3直播班\\\\doublebrunch\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","defineStore","state","isLoading","actions","changeLoading","this","_createElementVNode","class","_hoisted_1","_createElementBlock","$props","props","type","Boolean","default","__exports__","render","src","_imports_0","alt","_imports_1","_imports_2","xmlns","width","height","viewBox","id","d","transform","_hoisted_22","_hoisted_23","rx","fill","_hoisted_28","_hoisted_29","_hoisted_32","_createVNode","_component_LoadingComponent","_ctx","$data","$event","_hoisted_3","_toDisplayString","$options","length","_Fragment","_renderList","product","key","_hoisted_11","category","_component_router_link","to","imageUrl","title","currency","price","onClick","_hoisted_24","_hoisted_33","statusModule","statusStore","components","LoadingComponent","inject","watch","$route","handler","routerRefresh","favorite","localStorage","setItem","JSON","stringify","deep","data","products","cart","carts","keyword","parse","getItem","isLoadingItem","computed","mapState","filterProducts","filter","item","match","methods","getProducts","url","$http","then","res","reverse","catch","err","Swal","position","icon","response","message","showConfirmButton","timer","getCart","addToCart","qty","product_id","status","post","toggleFavorite","favoriteIndex","findIndex","isFavorite","some","element","isMaxNum","result","mounted","query"],"sourceRoot":""}